angular.module("starter",["ionic","app.controllers","app.directives","templates","pickadate"]).run(["$ionicPlatform",function(e){e.ready(function(){window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault()})}]).config(["$stateProvider","$urlRouterProvider","$ionicConfigProvider",function(e,n,t){t.backButton.previousTitleText(!1).text(""),t.views.swipeBackEnabled(!1),t.views.maxCache(8),t.views.transition("android"),t.navBar.alignTitle("center"),e.state("santa",{url:"/app/santa",templateUrl:"meet-santa.html",controller:"SantaCtrl"}).state("win",{url:"/app/win",templateUrl:"win.html",controller:"WinCtrl"}).state("select",{url:"/app/selectTime",templateUrl:"win-select-time.html",controller:"SelectTimeCtrl"}).state("confirm",{url:"/app/confirmBooking/:time",templateUrl:"win-confirm-booking.html",controller:"ConfirmBookingCtrl"}).state("bookings",{url:"/app/myBookings",templateUrl:"win-my-bookings.html",controller:"BookingsCtrl"}).state("find-us",{url:"/app/find-us",templateUrl:"find-us.html",controller:"FindCtrl"}).state("faq",{url:"/app/faq",templateUrl:"faq.html",controller:"FaqCtrl"}).state("selfie",{url:"/app/selfie",templateUrl:"selfie.html",controller:"SelfieController"}).state("advent",{url:"/app/advent",templateUrl:"advent.html",controller:"AdventCtrl"}).state("advent-date",{url:"/app/advent-date/:date",templateUrl:"advent-date.html",controller:"AdventDateCtrl"}).state("ride",{url:"/app/ride",templateUrl:"ride.html"}),n.otherwise("/app/santa")}]),angular.module("app.controllers",["ngCordova","ngTouch"]).controller("WinCtrl",["$scope",function(e){console.log("win ctrl called")}]).controller("FindCtrl",["$scope",function(e,n,t){}]).controller("MainCtrl",["$scope","$state","$stateParams","$rootScope","$ionicHistory",function(e,n,t,i,o){o.nextViewOptions({disableBack:!0}),console.log("main ctrl called"),n.go("win")}]).controller("SantaCtrl",["$scope","$timeout",function(e,n){e.$on("$ionicView.loaded",function(){ionic.Platform.ready(function(){n(function(){navigator&&navigator.splashscreen&&navigator.splashscreen.hide()},500)})})}]).controller("SelectTimeCtrl",["$scope",function(e){e.timeList=["01-12-16-10.30am","01-12-16-10.50am","01-12-16-11.10am","01-12-16-14.20pm"]}]).controller("ConfirmBookingCtrl",["$scope","$stateParams",function(e,n){e.selectedTime=n.time,console.dir(n.time)}]).controller("BookingsCtrl",["$scope",function(e){e.bookings=["Booking Ref #SANTA001"]}]).controller("FaqCtrl",["$scope",function(e){}]).controller("AdventCtrl",["$scope",function(e){e.dates=[{value:1},{value:2},{value:3},{value:4},{value:5},{value:6},{value:7},{value:8},{value:9},{value:10},{value:11},{value:12},{value:13},{value:14},{value:15},{value:16},{value:17},{value:18},{value:19},{value:20},{value:21},{value:22},{value:23},{value:24}]}]).controller("AdventDateCtrl",["$scope","$stateParams",function(e,n){e.selectedAdventDate=n.date,e.bells=[{inActive:"img/button_1unselected.png",active:"img/button_1selected.png"},{inActive:"img/button_2unselected.png",active:"img/button_2selected.png"},{inActive:"img/button_3unselected.png",active:"img/button_3selected.png"}],e.toggleMe=function(e,n){console.log(e.currentTarget),angular.element(e.currentTarget).attr("src",n.active)}}]).controller("HorizontalScrollFooterCtrl",["$scope","$rootScope","$state","$ionicHistory",function(e,n,t,i){var o="app";e.activeStateName="santa",e.goToState=function(n){i.nextViewOptions({disableBack:!0}),e.activeStateName=n,t.go(n)},e.viewsData=[{tabTitle:"Meet Santa",tabIcon:"icon-meet-santa",parentViewUrl:o,viewUrl:"santa"},{tabTitle:"Santa Selfie",tabIcon:"icon-selfie",parentViewUrl:o,viewUrl:"selfie"},{tabTitle:"Advent",tabIcon:"icon-advent",parentViewUrl:o,viewUrl:"advent"},{tabTitle:"Win!",tabIcon:"icon-win",parentViewUrl:o,viewUrl:"win",activeState:"tab-item-active"},{tabTitle:"Sleigh Ride",tabIcon:"icon-sleigh-ride",parentViewUrl:o,viewUrl:"ride"},{tabTitle:"Find Us",tabIcon:"icon-find-us",parentViewUrl:o,viewUrl:"find-us"},{tabTitle:"FAQs",tabIcon:"icon-faq",parentViewUrl:o,viewUrl:"faq"}]}]).controller("SelfieController",["$scope","$ionicPlatform","$cordovaDevice","$cordovaCamera","$cordovaToast",function(e,n,t,i,o){n.ready(function(){e.imageData=!1;var n,a={quality:100,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!0,encodingType:Camera.EncodingType.JPEG,targetWidth:window.innerWidth,targetHeight:window.innerHeight,popoverOptions:CameraPopoverOptions,saveToPhotoAlbum:!0,correctOrientation:!0,cameraDirection:1};e.takePicture=function(){i.getPicture(a).then(function(t){function i(){b.forEach(function(e){var n=new Image;y.push(n),n.onload=function(){k++,o()},n.src=e})}function o(){k==b.length&&(u=y[0],m=y[1],a())}function a(){v.clearRect(0,0,n.width,n.height),v.drawImage(u,0,0,n.width,n.height),v.globalCompositeOperation="source-over",v.drawImage(m,C,S)}function r(e,n){return e>C&&e<C+m.width&&n>S&&n<S+m.height}function l(e){T=parseInt(e.gesture.center.pageX-g),$=parseInt(e.gesture.center.pageY-f),d=r(T,$)}function c(e){d=!1}function s(e){if(d){imageClick=!1,mouseX=parseInt(e.gesture.center.pageX-g),mouseY=parseInt(e.gesture.center.pageY-f);var n=mouseX-T,t=mouseY-$;C+=n,S+=t,T=mouseX,$=mouseY,a()}}e.imageData=!!t;var d=!1;n=document.getElementById("image-canvas");var p=angular.element("#image-canvas").offset(),v=n.getContext("2d");n.width=window.innerWidth,n.height=window.innerHeight;var u,m,g=p.left,f=p.top,h="data:image/jpeg;base64,"+t,w="img/santa_face.png",b=[],y=[],k=0,C=256,S=256,T=0,$=0;b.push(h),b.push(w),i(),e.onTouch=function(e){console.log("Touch called inside"),l(e)},e.onRelease=function(e){console.log("Release called inside"),c(e)},e.onDrag=function(e){console.log("Drag called inside"),s(e)}},function(e){console.log(e)})},"iOS"==t.getPlatform()&&(e.cleanup=function(){i.cleanup().then(function(){},function(){})}),e.savePicture=function(){window.canvas2ImagePlugin.saveImageDataToLibrary(function(n){o.showLongBottom("Photo has been saved to album").then(function(){e.cleanup&&e.cleanup()},function(e){console.log(e)})},function(e){console.log(e)},n)},function(){e.takePicture()}()})}]),angular.module("app.directives",[]).directive("horizontalScrollFooter",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"horizontalScrollFooter.html",controller:"HorizontalScrollFooterCtrl"}}),angular.module("templates",[]).run(["$templateCache",function(e){e.put("horizontalScrollFooter.html",'<ion-footer-bar class="tsb-icons bar bar-footer no-padding footer-main" style="">\r\n  <div class="tab-nav tabs  tabs-font-color-white has-tabs tsb-ic-wrp">\r\n    <ion-scroll direction="x" class="tsb-hscroll col-100" style="" >\r\n\r\n      <a ng-repeat="viewData in viewsData" ng-class="{\'tab-item-active\':activeStateName==viewData.viewUrl}" ng-click="goToState(\'{{viewData.viewUrl}}\')" class="tab-item {{}} tab-item-custom">\r\n        <!-- ngIf: badge --><!-- ngIf: getIcon() --><i class="icon icon-footer {{viewData.tabIcon}}" ></i>\r\n        <!-- end ngIf: getIcon() --><span class="tab-title">{{viewData.tabTitle}}</span>\r\n      </a>\r\n\r\n    </ion-scroll>\r\n  </div>\r\n</ion-footer-bar>\r\n\r\n\r\n\r\n'),e.put("advent-date.html",'<ion-view view-title="Sleigh Ride">\r\n  <ion-content class="padding " scroll="false">\r\n    <div class="row responsive-md">\r\n      <h1>Advent Date Page</h1>\r\n    </div>\r\n  </ion-content>\r\n</ion-view>\r\n\r\n\r\n\r\n\r\n\r\n'),e.put("advent.html",'<ion-view view-title="Sleigh Ride">\r\n  <ion-content class="padding " scroll="false">\r\n    <div class="row responsive-md">\r\n      <h1>Advent page</h1>\r\n    </div>\r\n  </ion-content>\r\n</ion-view>\r\n\r\n\r\n\r\n\r\n'),e.put("faq.html",'<ion-view view-title="FAQs">\r\n  <ion-content class="padding " scroll="false">\r\n    <div class="row responsive-md">\r\n     <h1>Faq page</h1>\r\n    </div>\r\n  </ion-content>\r\n</ion-view>\r\n\r\n\r\n'),e.put("find-us.html",'<ion-view view-title="Sleigh Ride">\r\n  <ion-content class="padding " scroll="false">\r\n    <div class="row responsive-md">\r\n      <h1>find us page</h1>\r\n    </div>\r\n  </ion-content>\r\n</ion-view>\r\n\r\n\r\n\r\n'),e.put("meet-santa.html",'<ion-view view-title="Meet Santa">\r\n  <ion-content class="padding " scroll="false">\r\n    <div class="row responsive-md flex-layout height-100-percent">\r\n\r\n        <div pickadate ng-model="date" no-extra-rows  format="dd/mm/yyyy" min-date="\'2016-12-01\'" max-date="\'2016-12-31\'"  default-date="\'2016-09-01\'"></div>\r\n\r\n      <div class="col-100 padding-horizontal  absolute-bottom-20-percent  app-round-button select-date">\r\n        <a class="button-block text-center anchor-nostyle app-button-font-size height-100-percent col-100" href="#/app/selectTime"></a>\r\n      </div>\r\n      <div class="col-100 padding-horizontal  absolute-bottom-20-percent  app-round-button view-my-bookings">\r\n        <a class="button-block text-center anchor-nostyle app-button-font-size height-100-percent col-100" href="#/app/myBookings"></a>\r\n      </div>\r\n    </div>\r\n  </ion-content>\r\n</ion-view>\r\n\r\n\r\n'),e.put("ride.html",'<ion-view view-title="Sleigh Ride">\r\n  <ion-content class="padding" scroll="false">\r\n    <div class="row responsive-md">\r\n      <h1>Sleigh Ride page</h1>\r\n    </div>\r\n  </ion-content>\r\n</ion-view>\r\n\r\n\r\n\r\n'),e.put("selfie.html",'<ion-view view-title="Santa Selfie">\n  <ion-content class="padding " scroll="false">\n    <div class="button-bar">\n      <a class="button button-positive" type="button" ng-click="takePicture()">Retake</a>\n      <a class="button button-balanced" type="button" ng-click="savePicture()">Save</a>\n    </div>\n    <canvas id="image-canvas"\n            on-touch="onTouch($event)"\n            on-release="onRelease($event)"\n            on-drag="onDrag($event)"></canvas>\n  </ion-content>\n</ion-view>\n'),e.put("win-confirm-booking.html",'<ion-view view-title="Confirm Booking">\r\n  <ion-content class="height-occupy "  scroll="false">\r\n    <div class="row responsive-sm responsive-lg font-color " style="">\r\n      <div class="col-100 text-left padding-top">\r\n        <p class=" padding-left app-heading-font-size no-padding-margin-bottom">Confirm Your Booking</p><p class=" padding-left app-heading-font-size"> With Santa!</p>\r\n      </div>\r\n      <p class="padding-left time-stamp">{{selectedTime}}</p>\r\n      <div class="col-100 padding-left padding-right">\r\n        <div class="item item-input form-field">\r\n\r\n          <input type="text"  placeholder="First Name">\r\n        </div>\r\n        <div class="item item-input form-field">\r\n\r\n          <input type="text"  placeholder="Last Name">\r\n\r\n\r\n        </div>\r\n        <div class="item item-input form-field">\r\n\r\n          <input type="email"  placeholder="Email Address">\r\n        </div>\r\n        <div class="item item-input form-field">\r\n\r\n          <input type="text"  placeholder="Number">\r\n        </div>\r\n      </div>\r\n      <p class="padding-left app-paragraph-font-size">By purchasing a ticket, you agree to our <a class="anchor-underline">Terms and Conditions</a> </p>\r\n\r\n      <div class="col-100 padding-top  padding-horizontal  app-round-button pay-with-card ">\r\n        <a class="button-block padding-left padding-right text-center anchor-nostyle app-button-font-size height-100-percent col-100" href="#/app/selectTime"></a>\r\n      </div>\r\n    </div>\r\n  </ion-content>\r\n</ion-view>\r\n'),e.put("win-my-bookings.html",'<ion-view view-title="My Bookings">\r\n  <ion-content class="bookings " scroll="false" >\r\n    <ion-list>\r\n      <ion-item class="item-remove-animate select-time-list item-padding-left-10 item-avatar item-icon-right" ng-repeat="booking in bookings" type="item-text-wrap" href="#/tab/confirmBooking/{{time}}">\r\n\r\n       <div class="padding-vertical ">{{booking}}</div>\r\n       <i class="icon ion-chevron-right icon-accessory red-gradient-font-chevron" style="font-size:30px;">\r\n        </i>\r\n\r\n      </ion-item>\r\n\r\n\r\n    </ion-list>\r\n\r\n\r\n  </ion-content>\r\n</ion-view>\r\n'),e.put("win-select-time.html",'<ion-view view-title="Select Time">\r\n  <ion-content class="" scroll="true" scroll="false">\r\n    <ion-list>\r\n      <ion-item class="item-remove-animate select-time-list item-padding-left-10 item-avatar item-icon-right" ng-repeat="time in timeList" type="item-text-wrap" href="#/app/confirmBooking/{{time}}">\r\n\r\n       <div class=" ">{{time}}</div>\r\n       <i class="icon ion-chevron-right icon-accessory red-gradient-font-chevron" style="font-size:30px;">\r\n        </i>\r\n\r\n      </ion-item>\r\n\r\n\r\n\r\n    </ion-list>\r\n  </ion-content>\r\n</ion-view>\r\n'),e.put("win.html",'<ion-view view-title="Win!" class="view-win">\r\n  <ion-content class="height-occupy win " scroll="false" >\r\n    <div class="row responsive-sm responsive-lg height-100-percent no-padding  " style="">\r\n      <div class="col-100 text-center height-50-percent">\r\n        <img  src="img/win_image.png" class="height-100-percent col-100" style=" ">\r\n      </div>\r\n      <div class="col-100  height-50-percent flex-layout">\r\n        <div class="message-container">\r\n          <p class="text-center padding-top no-padding-margin-bottom app-heading-font-size">\r\n            Win A Luxury\r\n          </p>\r\n          <p class="text-center no-padding-margin-top app-heading-font-size">\r\n            Christmas Hamper Xscape\r\n          </p>\r\n\r\n\r\n          <p class="text-center padding absolute-center-by-margin app-paragraph-font-size" style="max-width:300px;">\r\n          You\'ve got until 23.59pm on December 24th to enter and we\'ll then seelct a winner at random!\r\n          </p>\r\n         </div>\r\n        <div class="col-100 padding-horizontal  absolute-bottom-20-percent  app-round-button enter-now">\r\n          <a class="button-block text-center anchor-nostyle app-button-font-size height-100-percent col-100" href=""></a>\r\n        </div>\r\n      </div>\r\n\r\n\r\n    </div>\r\n  </ion-content>\r\n</ion-view>\r\n')}]);